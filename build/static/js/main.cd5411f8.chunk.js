(this["webpackJsonplyric-search"]=this["webpackJsonplyric-search"]||[]).push([[0],{50:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r,c,a,i,s,o,u,l,d,b,j,h,g,x,p,O=n(1),m=n(40),f=n.n(m),v=(n(50),n(3)),y=n(18),w=n(5),S=n(9),_=n(16),k=n(4),E=n.n(k),T=n(12),L=n(22),R=n.n(L),C="/api",N=function(){var e=Object(T.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(C,"/songs/").concat(t),e.next=3,R.a.get(n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(T.a)(E.a.mark((function e(t,n){var r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(C,"/search?lyrics=").concat(encodeURI(t),"&page=").concat(n),e.next=3,R.a.get(r);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(T.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(C,"/lyrics?path=").concat(t),console.log(n),e.abrupt("return",R.a.get(n).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(T.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(C,"/videos?queryString=").concat(encodeURI(t)),e.abrupt("return",R.a.get(n).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=n(15),B={songs:[],currentSong:null,query:"",nextPage:1,isLoading:!1,error:null},G=function(e,t){switch(t.type){case"SET_QUERY":return Object(q.a)(Object(q.a)({},e),{},{query:t.data});case"APPEND_SONGS":return Object(q.a)(Object(q.a)({},e),{},{songs:e.songs.concat(t.data.songs),nextPage:t.data.nextPage,isLoading:!1,error:null});case"SET_SONGS":return Object(q.a)(Object(q.a)({},e),{},{songs:t.data.songs,query:t.data.query,nextPage:t.data.nextPage,isLoading:!1,error:null});case"SET_CURRENT_SONG":return Object(q.a)(Object(q.a)({},e),{},{currentSong:e.songs.find((function(e){return e.id===t.data}))||null});case"SET_LOADING":return Object(q.a)(Object(q.a)({},e),{},{isLoading:!0,error:null});case"SET_ERROR":return Object(q.a)(Object(q.a)({},e),{},{isLoading:!1,error:t.data});default:return e}},D=Object(O.createContext)([B,function(){}]),F=n(29),M=n(0),V=function(e){var t=e.icon,n=e.size,r=e.color,c=void 0===r?"":r;return Object(M.jsx)(F.a,{icon:t,size:n,color:c})},z=function(e){var t=e.isLoading,n=e.icon,r=e.size,c=e.color,a=void 0===c?"":c;return t?Object(M.jsx)(F.a,{icon:_.h,pulse:!0,spin:!0}):Object(M.jsx)(V,{icon:n,size:r,color:a})},U=n(6),Y=n(7),H=Y.a.input(r||(r=Object(U.a)(["\n    border: none;\n    max-width: 100%;\n    width: 100%;\n    font-size: 1em;\n  \n    &:focus {\n      outline:none\n    }\n    &:focus-visible {\n      outline:none\n    }\n"]))),W=Y.a.button(c||(c=Object(U.a)(["\n    background: none;\n    border:none;\n\n    cursor: pointer;\n    color: blue;\n\n    &:disabled {\n      cursor: not-allowed;\n    }\n"]))),J=Y.a.form(a||(a=Object(U.a)(["\n  background-color: #fff;\n  color: #171212;\n  padding: .5rem;\n  border-radius:.5rem;\n  webkit-box-shadow: 0 15px 35px rgb(50 50 93 / 10%), 0 5px 15px rgb(0 0 0 / 7%);\n  box-shadow: 0 15px 35px rgb(50 50 93 / 10%), 0 5px 15px rgb(0 0 0 / 7%);\n\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n"]))),K=Object(Y.a)(J)(i||(i=Object(U.a)(["\n  display:flex;\n  border:solid #fff 1px;\n  padding-top:.5rem;\n  padding-bottom: .5rem;\n  border-radius: .5rem;\n  font-size:1.25em\n"]))),Q=["born in a crossfire hurricane","they call me Mister Fahrenheit","having trouble with the high school head","buying a stairway to heaven","taste of your own medicine","shot through the heart"],X=function(e){var t=e.searchTerm,n=e.setSearchTerm,r=Object(O.useContext)(D),c=Object(v.a)(r,2),a=c[0],i=c[1],s=Object(O.useState)(!1),o=Object(v.a)(s,2),u=o[0],l=o[1],d=Math.floor(Math.random()*Q.length),b=Q[d],j=function(){var e=Object(T.a)(E.a.mark((function e(n){var r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t){e.next=3;break}return e.abrupt("return");case 3:return i({type:"SET_LOADING"}),l(!0),r=t,e.prev=6,e.next=9,P(t,1);case 9:c=e.sent,i({type:"SET_SONGS",data:{songs:c.songs,query:r,nextPage:c.nextPage}}),l(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),i({type:"SET_ERROR",data:e.t0.message}),l(!1);case 18:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),h=!t||a.isLoading;return Object(M.jsxs)(K,{onSubmit:j,children:[Object(M.jsx)(W,{disabled:h,type:"submit",children:Object(M.jsx)(z,{icon:"search",isLoading:u,color:h?"#ccc":"#888"})}),Object(M.jsx)(H,{type:"text",value:t,placeholder:b,onChange:function(e){return n(e.target.value)}})]})},Z=Y.a.div(s||(s=Object(U.a)(["\n    border-radius: 0.25rem;\n    padding: 0.5rem;\n    /*margin-bottom: 0.25rem;*/\n    cursor: pointer;\n    background-color: #E5EAF5;\n    height: 100%;\n    &:hover {\n        -webkit-filter: brightness(105%);\n      }\n"]))),$=Y.a.div(o||(o=Object(U.a)(["\n    display:flex;\n    border-radius:0.25rem;\n    padding:0.5rem;\n    margin-bottom:0.25rem;\n    background-color: #E5EAF5;\n    cursor:pointer;\n\n    &:hover {\n      -webkit-filter: brightness(105%);\n    }\n"]))),ee=Y.a.img(u||(u=Object(U.a)(["\n    width: 100%;\n    height: 100%;\n    border: solid gray 0px;\n"]))),te=Y.a.div(l||(l=Object(U.a)(["\n    max-height: 200px;\n    max-width: 200px;\n    border-radius:0.25rem;\n    border: solid #eee 1px;\n    overflow:hidden;\n    margin: auto\n"]))),ne=Y.a.div(d||(d=Object(U.a)(["\n    max-height: 100px;\n    max-width: 100px;\n    border-radius:0.25rem;\n    border: solid #eee 1px;\n    overflow:hidden;\n    \n    margin:auto 0;\n    margin-right:0.5rem;\n"]))),re=Y.a.div(b||(b=Object(U.a)(["\n    font-size:1.1em;\n    font-weight:500\n"]))),ce=Y.a.div(j||(j=Object(U.a)(["\n    color: #6c757d\n"]))),ae="576px",ie="768px",se="992px",oe="1200px",ue=Y.a.div(h||(h=Object(U.a)(["\n  display: grid;\n  grid-template-columns: repeat(12, 1fr);\n  grid-column-gap: 1em;\n  grid-row-gap: 1em;\n"]))),le=Y.a.div(g||(g=Object(U.a)(["\n  grid-column: span ",";\n\n  @media (min-width: ",") {\n    ","\n  }\n\n  @media (min-width: ",") {\n    ","\n  }\n\n  @media (min-width: ",") {\n    ","\n  }\n\n  @media (min-width: ",") {\n    ","\n  }\n"])),(function(e){return e.xs||"12"}),ae,(function(e){return e.sm?"grid-column: span ".concat(e.sm):""}),ie,(function(e){return e.md?"grid-column: span ".concat(e.md):""}),se,(function(e){return e.lg?"grid-column: span ".concat(e.lg):""}),oe,(function(e){return e.xl?"grid-column: span ".concat(e.xl):""})),de=Y.a.button(x||(x=Object(U.a)(["\n  overflow: hidden;\n  border: none;\n  border-radius: 4px;\n  display: inline-block;\n  height: 30px;\n  line-height: 30px;\n  padding: 0 12px;\n  vertical-align: middle;\n  -webkit-tap-highlight-color: transparent;\n  font-family: inherit;\n\n  background-color: ",";\n  color: ",";\n\n  &:not([disabled]) {\n    cursor:pointer\n  }\n  &:hover {\n    ",";\n  }"])),(function(e){return e.selected?"#ddd":"#fff"}),(function(e){return e.selected,"inherit"}),(function(e){return e.selected?"":"-webkit-filter: brightness(90%);"})),be=function(e){var t=e.children,n=e.value,r=e.selectedValue,c=e.handleClick;return Object(M.jsx)(de,{title:n,value:n,selected:n===r,onClick:c,children:t})},je=be,he=Y.a.button(p||(p=Object(U.a)(["\n  overflow: hidden;\n  border: none;\n  border-radius: 4px;\n  display: inline-block;\n  height: 36px;\n  line-height: 36px;\n  padding: 0 16px;\n  vertical-align: middle;\n  -webkit-tap-highlight-color: transparent;\n  font-family: inherit;\n  background-color: #E03A40;\n  color: white;\n  font-weight: 500;\n\n  &:not([disabled]) {\n    cursor:pointer\n  }\n  &:hover {\n    -webkit-filter: brightness(90%);\n  }"]))),ge=function(e){var t=e.text;return Object(M.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto"},children:[Object(M.jsx)(z,{icon:"spinner",isLoading:!0}),Object(M.jsx)("div",{style:{marginLeft:".5rem"},children:t})]})},xe=function(e){var t=e.highlights.find((function(e){return"lyrics"===e.property}));if(!t)return null;var n=t.value;return t.ranges.slice().reverse().forEach((function(e){n="".concat(n.slice(0,e.end),"</b>").concat(n.slice(e.end)),n="".concat(n.slice(0,e.start),"<b>").concat(n.slice(e.start))})),n="<span style='color:#6c757d'>".concat(n,"</span>"),Object(M.jsx)("div",{dangerouslySetInnerHTML:{__html:n}})},pe=function(e){var t=e.song,n=e.handleClick,r=Object(O.useState)(""),c=Object(v.a)(r,2),a=c[0],i=c[1];Object(O.useEffect)((function(){t.song_art_image_thumbnail_url?i(t.song_art_image_thumbnail_url):t.header_image_thumbnail_url&&i(t.header_image_thumbnail_url)}),[]);return Object(M.jsx)(le,{xs:12,sm:6,lg:3,onClick:n,onKeyDown:n,role:"menuitem",tabIndex:0,style:{marginBottom:"1rem"},children:Object(M.jsxs)(Z,{children:[Object(M.jsx)(te,{children:a?Object(M.jsx)(ee,{src:a,alt:"Album art"}):Object(M.jsx)("div",{children:"Loading..."})}),Object(M.jsxs)("div",{children:[Object(M.jsx)(re,{children:t.title}),Object(M.jsx)(ce,{children:t.artist}),Object(M.jsx)("br",{}),t.highlights&&Object(M.jsx)(xe,{highlights:t.highlights})]})]})})},Oe=function(e){var t=e.song,n=e.handleClick,r=Object(O.useState)(""),c=Object(v.a)(r,2),a=c[0],i=c[1];return Object(O.useEffect)((function(){t.song_art_image_thumbnail_url?i(t.song_art_image_thumbnail_url):t.header_image_thumbnail_url&&i(t.header_image_thumbnail_url)}),[]),Object(M.jsxs)($,{onClick:n,onKeyDown:n,role:"menuitem",tabIndex:0,style:{marginBottom:".5rem"},children:[Object(M.jsx)(ne,{children:a?Object(M.jsx)(ee,{src:a,alt:"Album art"}):Object(M.jsx)("div",{children:"Loading..."})}),Object(M.jsxs)("div",{children:[Object(M.jsx)(re,{children:t.title}),Object(M.jsx)(ce,{children:t.artist}),Object(M.jsx)("br",{}),t.highlights&&Object(M.jsx)(xe,{highlights:t.highlights})]})]})},me=function(){var e=Object(O.useContext)(D),t=Object(v.a)(e,2),n=t[0],r=t[1];if(!n.query||!n.nextPage||n.isLoading)return null;var c=function(){var e=Object(T.a)(E.a.mark((function e(t){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"SET_LOADING"}),e.prev=1,e.next=4,P(n.query,n.nextPage||1);case 4:c=e.sent,r({type:"APPEND_SONGS",data:{songs:c.songs,nextPage:c.nextPage}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"SET_ERROR",data:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)(he,{type:"button",disabled:n.isLoading,onClick:c,style:{margin:"0 auto",marginTop:".5em"},children:"Load More Results"})},fe=function(e){var t=e.value,n=e.setValue,r=function(e){n(e.target.closest("button").value)};return Object(M.jsxs)("div",{children:[Object(M.jsx)(je,{value:"tiles",selectedValue:t,handleClick:r,children:Object(M.jsx)(V,{icon:"th-large"})}),Object(M.jsx)(je,{value:"list",selectedValue:t,handleClick:r,children:Object(M.jsx)(V,{icon:"list"})})]})},ve=function(e){var t=e.query,n=e.songs,r=e.view,c=e.setView;return Object(M.jsxs)("div",{style:{display:"flex",margin:".25rem 0"},children:[Object(M.jsxs)("div",{style:{marginRight:"auto",color:"#6c757d"},children:["Showing"," ",n.length," ","results for"," ",'"'.concat(t,'"')]}),Object(M.jsx)(fe,{value:r,setValue:c})]})},ye=function(){var e=Object(O.useContext)(D),t=Object(v.a)(e,2),n=t[0],r=t[1],c=Object(O.useState)("tiles"),a=Object(v.a)(c,2),i=a[0],s=a[1],o=Object(w.f)(),u=n.songs,l=n.query,d=n.isLoading,b=function(e){r({type:"SET_CURRENT_SONG",data:e.id}),o.push("/songs/".concat(e.id))};return Object(O.useEffect)((function(){document.title="Search Songs by Lyrics"}),[]),0===u.length&&l&&!d?Object(M.jsx)("div",{children:"No songs found"}):Object(M.jsxs)("div",{children:[l&&Object(M.jsx)(ve,{query:l,songs:u,view:i,setView:s}),Object(M.jsxs)("div",{children:["list"===i&&u.map((function(e){return Object(M.jsx)(Oe,{song:e,handleClick:function(){return b(e)}},e.id)})),"tiles"===i&&Object(M.jsx)(ue,{children:u.map((function(e){return Object(M.jsx)(pe,{song:e,handleClick:function(){return b(e)}},e.id)}))}),d&&Object(M.jsx)(ge,{text:"Loading songs..."})]}),Object(M.jsx)("div",{style:{textAlign:"center"},children:Object(M.jsx)(me,{})})]})},we=n(45),Se=(n(77),function(e){var t=e.song;return Object(M.jsxs)("div",{children:[Object(M.jsx)(y.b,{to:"/",children:"Back to Search"}),Object(M.jsx)("br",{}),Object(M.jsx)("h2",{style:{marginBottom:"0"},children:t.title}),Object(M.jsxs)("h4",{style:{margin:"0"},children:["by"," ",t.artist]}),Object(M.jsx)("div",{children:Object(M.jsx)("img",{style:{maxHeight:"300px",maxWidth:"300px",width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem",border:"solid gray 0px",borderRadius:"0.25rem"},alt:"Song cover art",src:t.song_art_image_thumbnail_url||t.header_image_thumbnail_url})})]})}),_e=function(e,t){if(!e||!t)return e;var n=e,r=new RegExp(t,"ig"),c=e.match(r);if(c&&0!==c.length){var a=c.map((function(e){return e})),i=new Set(a);Object(we.a)(i).forEach((function(e){n=n.replaceAll(e,'<span style="background-color: #FFFF00">'.concat(e,"</span>"))}))}return n},ke=function(e){var t=e.path,n=e.searchTerm;if(!t)return null;var r=Object(O.useState)(!1),c=Object(v.a)(r,2),a=c[0],i=c[1],s=Object(O.useState)(""),o=Object(v.a)(s,2),u=o[0],l=o[1];return Object(O.useEffect)((function(){function e(){return(e=Object(T.a)(E.a.mark((function e(){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,A(t);case 4:r=e.sent,i(!1),l(_e(r.lyrics,n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),a?Object(M.jsx)(ge,{text:"Loading lyrics..."}):u?Object(M.jsx)("div",{style:{textAlign:"left",margin:"auto",maxWidth:"500px"},dangerouslySetInnerHTML:{__html:u}}):Object(M.jsx)("div",{children:"No lyrics found"})},Ee=function(e){var t=e.song;if(!t)return null;var n=Object(O.useState)(!1),r=Object(v.a)(n,2),c=r[0],a=r[1],i=Object(O.useState)(!1),s=Object(v.a)(i,2),o=s[0],u=s[1],l=Object(O.useState)(""),d=Object(v.a)(l,2),b=d[0],j=d[1],h=Object(O.useContext)(D),g=Object(v.a)(h,2),x=(g[0],g[1]);return Object(O.useEffect)((function(){function e(){return(e=Object(T.a)(E.a.mark((function e(){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("".concat(t.title," ").concat(t.artist));case 3:n=e.sent,a(!1),n.length>0&&j(n[0].videoID),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),a(!1),x({type:"SET_ERROR",data:"Sorry, could not find song on Youtube"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}u(!1),a(!0),function(){e.apply(this,arguments)}()}),[t]),c?Object(M.jsx)(ge,{text:"Loading Youtube link"}):o?Object(M.jsx)("div",{children:Object(M.jsx)("div",{className:"video-container",children:Object(M.jsx)("iframe",{width:"500",height:"300",src:"https://www.youtube-nocookie.com/embed/".concat(b,"?autoplay=1"),title:"Embedded YT video",frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0})})}):b?Object(M.jsx)("div",{children:Object(M.jsxs)(he,{type:"button",onClick:function(){return u(!0)},children:[Object(M.jsx)(V,{icon:"play"})," ","Play Youtube Video"]})}):null},Te=function(e){var t=e.searchTerm,n=Object(w.f)(),r=Object(O.useContext)(D),c=Object(v.a)(r,2),a=c[0],i=(c[1],Object(O.useState)(!1)),s=Object(v.a)(i,2),o=s[0],u=s[1],l=Object(O.useState)(null),d=Object(v.a)(l,2),b=d[0],j=d[1],h=Object(w.g)().id;return!h||Number.isNaN(Number(h))?(n.push("/"),null):(Object(O.useEffect)((function(){document.title="Loading song...";var e=a.songs.find((function(e){return e.id===Number(h)}));if(e)return j(e),void(document.title="".concat(e.title," - ").concat(e.artist));function t(){return(t=Object(T.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(h);case 3:t=e.sent,u(!1),t&&(j(t),document.title="".concat(t.title," - ").concat(t.artist)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.push("/");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}u(!0),function(){t.apply(this,arguments)}()}),[h]),o?Object(M.jsx)(ge,{text:"Attempting to load song"}):b?Object(M.jsxs)("div",{style:{textAlign:"center"},children:[Object(M.jsx)(Se,{song:b}),Object(M.jsx)(Ee,{song:b}),b.path&&Object(M.jsx)(ke,{path:b.path,searchTerm:t}),Object(M.jsx)("div",{style:{marginTop:"1rem"},children:Object(M.jsx)(y.b,{to:"/",children:"Back to Search"})})]}):null)},Le=function(e){var t=e.errorMessage;if(!t)return null;return Object(M.jsx)("div",{style:{display:"block",backgroundColor:"#F56565",color:"white",padding:"0.5rem",borderRadius:".25rem"},children:t})},Re=function(){return Object(M.jsxs)("div",{children:[Object(M.jsx)("h2",{style:{marginBottom:"0"},children:"Search Songs by Lyrics"}),Object(M.jsx)("div",{style:{color:"#6c757d"},children:"Powered by Genius API"})]})},Ce=function(e){var t=e.searchTerm,n=e.setSearchTerm;return Object(M.jsxs)("div",{children:[Object(M.jsx)(Re,{}),Object(M.jsx)(X,{searchTerm:t,setSearchTerm:n}),Object(M.jsx)(ye,{})]})},Ne=function(){var e=Object(O.useReducer)(G,B),t=Object(v.a)(e,2),n=t[0],r=t[1],c=Object(O.useState)(""),a=Object(v.a)(c,2),i=a[0],s=a[1];S.b.add(_.g),S.b.add(_.b),S.b.add(_.c),S.b.add(_.a),S.b.add(_.i),S.b.add(_.f),S.b.add(_.e),S.b.add(_.d);return Object(M.jsx)(D.Provider,{value:[n,r],children:Object(M.jsxs)("div",{className:"App",style:{maxWidth:"900px",margin:"auto",marginBottom:"1rem"},children:[n.error&&Object(M.jsx)(Le,{errorMessage:n.error}),Object(M.jsx)(y.a,{children:Object(M.jsxs)(w.c,{children:[Object(M.jsx)(w.a,{path:"/songs/:id",children:Object(M.jsx)(Te,{searchTerm:i})}),Object(M.jsx)(w.a,{path:"/",children:Object(M.jsx)(Ce,{searchTerm:i,setSearchTerm:s})})]})})]})})};f.a.render(Object(M.jsx)(Ne,{}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.cd5411f8.chunk.js.map